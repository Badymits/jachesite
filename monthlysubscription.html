<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="monthlysubscription.css">
    <title>Monthly Subscription</title>
</head>
<body>
    <div class="containers">
        <div class="row">
            <section>
                <div class="wizard">
                    <div class="wizard-inner">
                        <div class="connecting-line"></div>
                            <ul class="nav nav-tabs" role="tablist">
                                <li role="presentation" class="active stepactive1">
                                    <a href="#step1" data-toggle="tab" aria-controls="step1" role="tab" title="Step 1">
                                        <span class="round-tab round1">
                                            1.Personal Information
                                        </span>
                                    </a>
                                </li>
                                <li role="presentation" class="disabled stepactive2">
                                    <a href="#step2" data-toggle="tab" aria-controls="step2" role="tab" title="Step 2">
                                        <span class="round-tab round2">
                                            2.Select Supplements
                                        </span>
                                    </a>
                                </li>
                                <li role="presentation" class="disabled stepactive3">
                                    <a href="#step3" data-toggle="tab" aria-controls="step3" role="tab" title="Step 3">
                                        <span class="round-tab round3">
                                            3. Date of Delivery
                                        </span>
                                    </a>
                                </li>
                                <li role="presentation" class="disabled stepactive4">
                                    <a href="#complete" data-toggle="tab" aria-controls="complete" role="tab" title="Complete">
                                        <span class="round-tab round4">
                                            4. Mode of Payment
                                        </span>
                                    </a>
                                </li>
                            </ul>
                    </div>
                    <form method="POST" role="form" data-netlify="true" action="/success.html" id="form1">
                        <div class="tab-content">
                            <div class="tab-pane active" role="tabpanel" id="step1">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h1>Personal Information</h1>
                                        <span>Please fill out the information below</span>
                                        </br>
                                        <span id="warning">All fields are required</span>
                                    </div>
                                    <div class="InputFields">
                                        <label>Full Name: </label>
                                        <input type="text" name="UserFullName" id="textbox-name" placeholder="Enter Full Name..." required >
                                        </br>
                                        <label>Address: </label>
                                        <input type="text" name="UserAddress" id="textbox-address" placeholder="Enter Full Address" required>
                                        </br>
                                        <label>Mobile Number: </label>
                                        <input type="number" name="UserContactNo" id="textbox-contactno" placeholder="Enter Mobile Phone Number" pattern="[0-9]{1}[0-9]{9}" required> 
                                        </br>
                                        <label>Email Address: </label>
                                        <input type="text" onkeyup="check()" name="UserEmailAddress" id="textbox-email" placeholder="Enter Email Address" required>
                                        <div class="error-text">
                                            Please Enter Valid Email Address
                                         </div> 
                                        </br>
                                        <label>Age</label>
                                        <input type="text" name="UserAge" id="textbox-age" placeholder="Enter your age.." required>
                                        <label>Gender</label>
                                        <input type="text" list="genders" name="UserGender" id="textbox-gender" placeholder="Select your gender.." required>
                                            <datalist id="genders">
                                                <option value="Male">Male</option>
                                                <option value="Female">Female</option>
                                                <option value="Other">Other</option>
                                            </datalist>
                                        </br>
                                        <label>Occupation</label>
                                        <input type="text" name="UserOccupation" id="textbox-occupation" placeholder="Enter your occupation" required>
                                    </div>
                                </div>
                                <ul class="list-inline text-center">
                                    <li><button type="button" onclick="window.location.href='index.html'" class="btn home">Back to Home&nbsp;&nbsp;<i class="fa fa-home"></i></button></li>
                                    <li><button type="button" class="btn next-step">Save and Next&nbsp;&nbsp;<i class="fa fa-arrow-right"></i></button></li>
                                </ul>
                            </div>
                            <div class="tab-pane" role="tabpanel" id="step2">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h1>Select your supplements</h1>
                                        <span>Customize your subscription delivery package</span>
                                        </br>
                                        <span id="warning">All fields are required</span>
                                    </div>
                                    <div class="InputFields1">
                                        <label>Select Supplements</label>
                                        <input type="text" list="supplements" name="UserSupplement1" id="textbox-supplement1" placeholder="Select your supplements.." required>
                                        <datalist id="supplements">
                                            <option value="Centrum">Centrum</option>
                                            <option value="Omega-3">Omega-3 fish oil</option>
                                            <option value="Enervon Multivitamins">Enervon Multivitamins</option>
                                        </datalist>  
                                        <label>Select number of pieces</label>
                                        <input onkeyup="check()" type="number" list="pieceNumber" name="UserAmount1" id="textbox-amount1" placeholder="Select Amount of tablets.." required>
                                        <datalist id="pieceNumber">
                                            <option value="5">5</option>
                                            <option value="10">10</option>
                                            <option value="15">15</option>
                                        </datalist>                                                                 
                                    </div>
                                    <button id="add_btn" class="btn addrow" type="button"><i class="fa fa-plus"></i>&nbsp;&nbsp;Add Row</button>
                                    
                                </div>
                                <ul class="list-inline text-center">
                                    <li><button type="button" class="btn prev-step"><i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Previous</button></li>
                                    <li><button type="button" class="btn next-step">Save and Next&nbsp;&nbsp;<i class="fa fa-arrow-right"></i></button></li>
                                </ul>
                            </div>
                            <div class="tab-pane" role="tabpanel" id="step3">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h1>Select Date of Delivery</h1>
                                        <span>Make sure that someone will pick up your delivery!</span>
                                        </br>
                                        <span id="warning">All fields are required</span>
                                    </div>
                                    <div class="InputFields2">
                                        <label>Date of Delivery</label>
                                        <input type="date" id="dateOfDelivery" name="Delivery" required>
                                        </br>
                                        <label>Time of Delivery</label>
                                        <input type="time" id="timeofDelivery" name="Delivery" required>
                                    </div>
                                </div>
                                <ul class="list-inline text-center">
                                    <li><button type="button" class="btn prev-step"><i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Previous</button></li>
                                    <li><button type="button" class="btn btn-info-full next-step">Save and Next&nbsp;&nbsp;<i class="fa fa-arrow-right"></i></button></li>
                                </ul>
                            </div>
                            <div class="tab-pane" role="tabpanel" id="complete">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h1>Select mode of payment</h1>
                                        <span>Please fill up the form</span>
                                        </br>
                                        <span id="warning">All fields are required</span>
                                    </div>
                                    <div class="InputFields3">
                                        <h3>Chosen Plan: Monthly Subscription</h3></br>
                                        <label id="cardholder">Cardholder Name: </label>
                                        <input type="text" name="UserCardHolderName" id="textbox-name" placeholder="Enter Name..." required>
                                        </br>
                                        <h4>Select Payment Method</h4></br>
                                        <input type="radio" name="UserPaymentVisa" id="textbox-paymentVisa" value="Visa">
                                        <label class="radiolabel" for="textbox-paymentVisa">Visa</label>                                       
                                        </br>
                                        <input type="radio" name="UserPaymentMasterCard" id="textbox-paymentMaster" value="MasterCard" >
                                        <label class="radiolabel" for="textbox-paymentMaster">MasterCard</label>        
                                        </br>
                                        <input type="radio" name="UserPaymentAMEX" id="textbox-paymentAmex" value="AMEX" >
                                        <label class="radiolabel" for="textbox-paymentAmex">AMEX</label>        
                                        </br>
                                        <input type="radio" name="UserPaymentCOD" id="textbox-cod" value="Cash-On-Delivery">
                                        <label class="radiolabel" for="textbox-cod">Cash On Delivery</label>        
                                        </br>
                                        <h3>Billing Address: </h3></br>
                                        <label>Address: </label>
                                        <input type="text" name="UserBillAddress" id="textbox-address" placeholder="Enter Full Address" required>
                                        </br>
                                        <label>City: </label>
                                        <input type="text" name="UserCityAddress" id="textbox-city" placeholder="Enter City" required> 
                                        <label>Postal/Zip Code: </label>
                                        <input type="number" name="UserPostalCode" id="textbox-zip" placeholder="Enter Postal Zip Code" required> 
                                        </br>
                                        <label>State/Province: </label>
                                        <input type="text" name="UserProvince" id="textbox-province" placeholder="Enter State/Province" required> 
                                        </br>
                                    </div>
                                </div>
                                
                                <ul class="list-inline text-center">
                                    <li><button type="button" class="btn prev-step"><i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Previous</button></li>
                                    <!-- <li><button type="submit" form="form1" value="SUBMIT">Save and Submit</button></li>   -->  
                                    <li><input type="submit" class="btn submit" form="form1" id="button-input" value="Submit"></li>                            
                                </ul>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </form>
                </div>
            </section>
        </div>
    </div>
    <script>
        var count=1;
        $("#add_btn").click(function(){ // function to increment the count to indicate number of row added
        
        $(".InputFields1").append(addNewRow(count));
            count++;
        });

    function addNewRow(count){ // dynamically create a new row of input 
        var newrow = 
                '</br>' +
                '<label>Select Supplements</label>'+
                '<input type="text" list="supplements" name="UserSupplement1" id="textbox-supplement1" placeholder="Select your supplements.." required>' +
                '<datalist id="supplements">' +
                    '<option value="Centrum">Centrum</option>' +
                    '<option value="Omega-3">Omega-3 fish oil</option>' +
                    '<option value="Enervon Multivitamins">Enervon Multivitamins</option>' +
                '</datalist>' +  
                '<label>Select number of pieces</label>' +
                '<input type="number" onkeyup="check()" list="pieceNumber" name="UserAmount1" id="textbox-amount1" placeholder="Select Amount of tablets.." required>' +
                '<datalist id="pieceNumber">' +
                    '<option value="5">5</option>' +
                    '<option value="10">10</option>' +
                    '<option value="15">15</option>' +
                '</datalist>';
        return newrow;
    }
    var btn = document.querySelector("#add_btn");
    function check(){ // checks and gets the value from the datalists
        const arr = [];
        /* var e = document.getElementById('textbox-amount1').value; */
        var e = document.querySelectorAll("textbox-amount1").value;
        arr.push(e);
        e = 0;
        checkSum(arr);
    }
    
    function checkSum(numArr){ // function to cgheck if datalist value equal to 30
        let sum = 0;
        for (let i = 0; i <numArr.length; i++){
            sum += numArr[i];
            console.log(sum);
            if (sum >= 30){ // if equal to 30, button to add new row will be hidden
                btn.style.display = "none";
            }
        }
    }
    var today = new Date().toISOString().split('T')[0]; // restrict user fromn selecting date before current day
    document.getElementsByName("Delivery")[0].setAttribute('min', today);

    </script>
    <script src="./weeklysubscription.js"></script>
</body>
</html>